# 智链OS - 快速开始指南

## 目录
1. [系统要求](#系统要求)
2. [安装部署](#安装部署)
3. [首次登录](#首次登录)
4. [核心功能使用](#核心功能使用)
5. [常见问题](#常见问题)

## 系统要求

### 硬件要求
- CPU: 2核心及以上
- 内存: 4GB及以上
- 硬盘: 20GB可用空间

### 软件要求
- Docker 20.10+
- Docker Compose 1.29+
- 操作系统: Linux / macOS / Windows

## 安装部署

### 方式一：Docker Compose (推荐)

1. **克隆项目**
```bash
git clone https://github.com/hnrm110901-cell/zhilian-os.git
cd zhilian-os
```

2. **配置环境变量**
```bash
# 复制环境变量模板
cp .env.example .env

# 编辑环境变量（可选）
vim .env
```

3. **启动服务**
```bash
# 启动所有服务
docker-compose up -d

# 查看服务状态
docker-compose ps

# 查看日志
docker-compose logs -f
```

4. **初始化数据库**
```bash
# 进入API容器
docker-compose exec api-gateway bash

# 运行数据库迁移
alembic upgrade head

# 创建初始数据
python scripts/init_data.py
```

5. **访问系统**
- 前端: http://localhost:3000
- 后端API: http://localhost:8000
- API文档: http://localhost:8000/docs

### 方式二：本地开发

#### 后端启动

1. **安装Python依赖**
```bash
cd apps/api-gateway
pip install -r requirements.txt
```

2. **配置数据库**
```bash
# 创建PostgreSQL数据库
createdb zhilian_os

# 运行迁移
alembic upgrade head
```

3. **启动后端服务**
```bash
uvicorn src.main:app --reload --host 0.0.0.0 --port 8000
```

#### 前端启动

1. **安装Node依赖**
```bash
cd apps/web
npm install
```

2. **启动前端服务**
```bash
npm start
```

## 首次登录

### 默认管理员账户
- **用户名**: admin
- **密码**: admin123

### 登录步骤

1. 打开浏览器访问 http://localhost:3000
2. 输入用户名和密码
3. 点击"登录"按钮
4. 首次登录建议修改密码

### 修改密码

1. 点击右上角用户头像
2. 选择"个人信息"
3. 点击"修改密码"
4. 输入旧密码和新密码
5. 保存更改

## 核心功能使用

### 1. 智能Agent系统

#### 使用智能排班

1. 导航到"Agent系统" → "智能排班"
2. 选择日期范围
3. 点击"生成排班"
4. 系统自动生成最优排班方案
5. 可手动调整排班
6. 保存并发布排班

#### 使用库存预警

1. 导航到"Agent系统" → "库存预警"
2. 查看当前库存状态
3. 系统自动标记低库存商品
4. 点击"生成补货建议"
5. 审核并创建采购订单

### 2. 多门店管理

#### 添加新门店

1. 导航到"业务管理" → "多门店管理"
2. 点击"添加门店"
3. 填写门店信息：
   - 门店名称
   - 门店地址
   - 联系方式
   - 营业时间
4. 保存门店信息

#### 门店对比分析

1. 在多门店管理页面
2. 选择要对比的门店
3. 选择对比指标（营收、客流、利润等）
4. 查看对比图表和数据

### 3. 财务管理

#### 查看财务报表

1. 导航到"业务管理" → "财务管理"
2. 选择日期范围
3. 切换到"损益表"或"现金流量"标签
4. 查看详细财务数据

#### 导出财务报表

1. 在财务管理页面
2. 选择要导出的报表类型
3. 点击"导出CSV"或"导出PDF"
4. 报表自动下载到本地

#### 创建预算

1. 切换到"预算分析"标签
2. 点击"创建预算"
3. 填写预算信息：
   - 门店
   - 年份和月份
   - 类别
   - 预算金额
4. 保存预算

### 4. 供应链管理

#### 管理供应商

1. 导航到"业务管理" → "供应链管理"
2. 切换到"供应商"标签
3. 点击"添加供应商"
4. 填写供应商信息
5. 保存供应商

#### 创建采购订单

1. 切换到"采购订单"标签
2. 点击"创建采购订单"
3. 选择供应商
4. 添加采购商品和数量
5. 提交订单

### 5. 数据备份

#### 创建备份

1. 导航到"数据备份"（管理员权限）
2. 点击"创建备份"
3. 输入备份描述
4. 等待备份完成
5. 查看备份列表

#### 恢复备份

1. 在备份列表中找到要恢复的备份
2. 点击"恢复"按钮
3. 确认恢复操作
4. 等待恢复完成
5. 系统自动重启

### 6. 高级分析

#### 销售预测

1. 导航到"数据分析" → "高级分析"
2. 切换到"销售预测"标签
3. 选择预测周期
4. 查看预测结果和趋势图

#### 异常检测

1. 切换到"异常检测"标签
2. 系统自动检测销售、成本、库存异常
3. 查看异常详情
4. 采取相应措施

### 7. 通知中心

#### 查看通知

1. 点击顶部导航栏的"通知中心"
2. 查看未读通知
3. 点击通知查看详情
4. 标记为已读或删除

#### 发送通知

1. 在通知中心点击"发送多渠道通知"
2. 选择通知渠道（邮件、短信、微信等）
3. 输入收件人和通知内容
4. 发送通知

### 8. 审计日志

#### 查看操作日志

1. 导航到"审计日志"（管理员权限）
2. 选择过滤条件：
   - 时间范围
   - 操作类型
   - 资源类型
   - 用户
3. 点击"搜索"
4. 查看日志详情

#### 查看统计分析

1. 切换到"统计分析"标签
2. 查看操作类型分布图
3. 查看资源类型分布图
4. 分析系统使用情况

### 9. 数据导入导出

#### 导出数据

1. 导航到"数据导入导出"（管理员权限）
2. 选择要导出的数据类型（用户、库存等）
3. 点击"导出"按钮
4. CSV文件自动下载

#### 导入数据

1. 点击"下载导入模板"
2. 按照模板格式填写数据
3. 点击"上传CSV文件"
4. 选择填好的CSV文件
5. 查看导入结果和错误信息

## 常见问题

### Q1: 忘记密码怎么办？

**A:** 联系系统管理员重置密码，或使用数据库直接重置：
```sql
UPDATE users SET hashed_password = '$2b$12$...' WHERE username = 'your_username';
```

### Q2: 如何添加新用户？

**A:**
1. 管理员登录系统
2. 导航到"用户管理"
3. 点击"添加用户"
4. 填写用户信息并分配角色
5. 保存用户

### Q3: 数据库连接失败怎么办？

**A:**
1. 检查PostgreSQL服务是否运行
2. 检查数据库连接配置（.env文件）
3. 检查数据库用户权限
4. 查看日志获取详细错误信息

### Q4: 如何配置LLM集成？

**A:**
1. 导航到"企业集成" → "LLM配置"
2. 选择LLM提供商（GPT-4或Claude）
3. 输入API密钥
4. 测试连接
5. 保存配置

### Q5: 备份文件存储在哪里？

**A:** 备份文件默认存储在 `/var/backups/zhilian-os/` 目录下。可以在配置文件中修改备份路径。

### Q6: 如何查看系统日志？

**A:**
```bash
# Docker环境
docker-compose logs -f api-gateway

# 本地环境
tail -f logs/app.log
```

### Q7: 如何更新系统？

**A:**
```bash
# 拉取最新代码
git pull origin main

# 重启服务
docker-compose down
docker-compose up -d

# 运行数据库迁移
docker-compose exec api-gateway alembic upgrade head
```

### Q8: 系统支持哪些浏览器？

**A:**
- Chrome 90+
- Firefox 88+
- Safari 14+
- Edge 90+

### Q9: 如何配置HTTPS？

**A:**
1. 获取SSL证书
2. 修改nginx配置文件
3. 添加SSL证书路径
4. 重启nginx服务

### Q10: 如何扩展系统容量？

**A:**
1. 增加数据库连接池大小
2. 使用Redis集群
3. 部署多个API实例
4. 使用负载均衡器

## 技术支持

### 获取帮助
- 查看完整文档: `SYSTEM_FEATURES.md`
- 查看API文档: http://localhost:8000/docs
- 提交问题: GitHub Issues

### 联系方式
- 项目仓库: https://github.com/hnrm110901-cell/zhilian-os
- 邮箱: support@zhilian-os.com

## 下一步

- 📖 阅读[系统功能总结](SYSTEM_FEATURES.md)了解所有功能
- 🔧 查看[功能完成度报告](FEATURE_COMPLETION_REPORT.md)了解开发进度
- 🚀 开始使用智能Agent系统提升运营效率

---

**智链OS** - 让餐厅运营更智能
